<!-- <p>home works!</p> -->
<div *ngIf="isLoggedIn(); else loginMessage">
<!-- <div> -->
  <button (click)="showAddCarForm()" id="topbutton">Add Car</button>
  <div *ngIf="showForm">
    <form (ngSubmit)="addCar()" #carForm="ngForm" class="form">
      <h3>Add Car</h3>
      <div>
        <label for="carId">ID:</label>
        <input type="number" id="carId" name="carId" required [(ngModel)]="carId">
      </div>
      <div>
        <label for="carName">Name:</label>
        <input type="text" id="carName" name="carName" required [(ngModel)]="carName">
      </div>
      <div>
        <label for="carProfile">Profile Image URL:</label>
        <input type="text" id="carProfile" name="carProfile" required [(ngModel)]="carProfile">
      </div>
      <div>
        <label for="carBrand">Brand:</label>
        <input type="text" id="carBrand" name="carBrand" required [(ngModel)]="carBrand">
      </div>
      <div>
        <label for="carPrice">Price:</label>
        <input type="text" id="carPrice" name="carPrice" required [(ngModel)]="carPrice">
      </div>
      <div class="button-row">
        <button type="submit">Submit</button>
        <button type="button" (click)="cancelAdding()">Cancel</button>
      </div>
    </form>
  </div>
 
  <div>
    <form (submit)="updateCar()" *ngIf="editingCar" class="form">
      <h3>Edit Car</h3>
      <div>
        <label for="carName">Name:</label>
        <input type="text" id="carName" name="carName" required [(ngModel)]="editingCar.name">
      </div>
      <div>
        <label for="carProfile">Profile Image URL:</label>
        <input type="text" id="carProfile" name="carProfile" required [(ngModel)]="editingCar.profile">
      </div>
      <div>
        <label for="carBrand">Brand:</label>
        <input type="text" id="carBrand" name="carBrand" required [(ngModel)]="editingCar.brand">
      </div>
      <div>
        <label for="carPrice">Price:</label>
        <input type="text" id="carPrice" name="carPrice" required [(ngModel)]="editingCar.price">
      </div>
      <div class="button-row">
        <button type="submit">Update</button>
        <button type="button" (click)="cancelEditing()">Cancel</button>
      </div>
    </form>
   </div>

  <div id="griddiv">
    <ng-container *ngFor="let branch of getSortedCarsByBranches()">
        <div *ngFor="let car of branch.value">
  <!-- <div *ngFor="let car of cars"> -->
    <img [src]="car.profile" alt="Car Image">
    <p>Name: {{ car.name }}</p>
    <p>Brand: {{ car.brand }}</p>
    <p>Price: {{ car.price }}</p>
    <button (click)="addToCart(car)">Add to Cart</button>
    <button (click)="editCar(car)">Edit</button>
    </div>

  </ng-container>
  </div>
</div>
  <ng-template #loginMessage>
    <div  id="button">
      <h2>Please Login First to see the Home Page</h2>
      <button routerLink="/login">Login</button>
    </div>
  </ng-template>

  <!-- *ngIf="isLoggedIn(); else loginMessage" -->